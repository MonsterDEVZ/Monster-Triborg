# üñºÔ∏è Visual Upgrade - –†–µ–∞–ª—å–Ω—ã–µ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –í–æ—Ä–æ–Ω–∫–∞—Ö

## üìã –°—Ç–∞—Ç—É—Å: –ó–ê–í–ï–†–®–ï–ù–û

**–î–∞—Ç–∞:** 2025-10-24
**–í–µ—Ä—Å–∏—è:** 2.3 (Visual Upgrade)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–ª **—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–≥–ª—É—à–∫–∏** –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```
üñº [–§–æ—Ç–æ: agency_step1_photo]

–ö–∞–∫–∞—è –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∞ —Å–µ–π—á–∞—Å —Å–∞–º–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è?
```

–≠—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ –Ω–µ–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –∏ –ª–æ–º–∞–ª–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –≤–∏–∑—É–∞–ª—å–Ω–æ–π –≤–æ—Ä–æ–Ω–∫–∏.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –§–∞–∑–∞ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–§–∞–π–ª:** `locales/locales.json`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ó–∞–º–µ–Ω–∏–ª–∏ `photo_id` –Ω–∞ `photo_url`
- –î–æ–±–∞–≤–∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–µ—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

**–ë—ã–ª–æ:**
```json
"step1": {
  "photo_id": "agency_step1_photo",
  "caption": "–ö–∞–∫–∞—è –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∞..."
}
```

**–°—Ç–∞–ª–æ:**
```json
"step1": {
  "photo_url": "https://pub-68f0f95cdc3344e2b4ff5ce24184f710.r2.dev/Cover.jpg",
  "caption": "–ö–∞–∫–∞—è –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∞ —Å–µ–π—á–∞—Å —Å–∞–º–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è?"
}
```

#### URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π:

| –ü—Ä–æ—Ñ–∏–ª—å | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ | URL |
|---------|-------------|-----|
| **Agency** | Cover.jpg | `https://pub-68f0f95cdc3344e2b4ff5ce24184f710.r2.dev/Cover.jpg` |
| **CG** | CG_Cover.jpg | `https://pub-68f0f95cdc3344e2b4ff5ce24184f710.r2.dev/CG_Cover.jpg` |
| **Express** | Express_Cover.jpg | `https://pub-68f0f95cdc3344e2b4ff5ce24184f710.r2.dev/Express_Cover.jpg` |

---

### –§–∞–∑–∞ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ö–æ–¥–∞ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∞

**–§–∞–π–ª:** `packages/core/handlers/start.py`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –î–æ–±–∞–≤–∏–ª–∏ –∏–º–ø–æ—Ä—Ç Bot
```python
# –ë—ã–ª–æ:
from aiogram import Router, F

# –°—Ç–∞–ª–æ:
from aiogram import Router, F, Bot
```

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –û–±–Ω–æ–≤–∏–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Ñ—É–Ω–∫—Ü–∏–π
```python
# –ë—ã–ª–æ:
async def handle_deeplink_start(
    message: Message, command: CommandObject, state: FSMContext
):

# –°—Ç–∞–ª–æ:
async def handle_deeplink_start(
    message: Message, command: CommandObject, state: FSMContext, bot: Bot
):
```

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –ó–∞–º–µ–Ω–∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–µ–∫—Å—Ç–∞ –Ω–∞ send_photo

**–ë—ã–ª–æ (—Å—Ç—Ä–æ–∫–∏ 103-111):**
```python
photo_id = step1_data.get("photo_id")

# TODO: –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ message.answer_photo() —Å —Ä–µ–∞–ª—å–Ω—ã–º file_id
await message.answer(
    f"üñº [–§–æ—Ç–æ: {photo_id}]\n\n{step1_data.get('caption', '')}",
    reply_markup=keyboard,
)
```

**–°—Ç–∞–ª–æ (—Å—Ç—Ä–æ–∫–∏ 104-114):**
```python
# –ü–æ–ª—É—á–∞–µ–º URL —Ñ–æ—Ç–æ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
photo_url = step1_data.get("photo_url")
caption = step1_data.get("caption", "")

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—å—é –∏ –∫–Ω–æ–ø–∫–∞–º–∏
await bot.send_photo(
    chat_id=message.chat.id,
    photo=photo_url,
    caption=caption,
    reply_markup=keyboard,
)
```

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4: –û–±–Ω–æ–≤–∏–ª–∏ callbacks.py

**–§–∞–π–ª:** `packages/core/handlers/callbacks.py` (—Å—Ç—Ä–æ–∫–∞ 21)

```python
# –ë—ã–ª–æ:
async def handle_direction_choice(callback: CallbackQuery, state: FSMContext):

# –°—Ç–∞–ª–æ:
async def handle_direction_choice(callback: CallbackQuery, state: FSMContext, bot: Bot):
```

**–ò –æ–±–Ω–æ–≤–∏–ª–∏ –≤—ã–∑–æ–≤ (—Å—Ç—Ä–æ–∫–∞ 43):**
```python
# –ë—ã–ª–æ:
await start_funnel(callback.message, state, profile_name)

# –°—Ç–∞–ª–æ:
await start_funnel(callback.message, state, profile_name, bot)
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –£—Å–ø–µ—Ö–∞

#### 1. Monster Agency (Deep Link)
```
–û—Ç–∫—Ä–æ–π—Ç–µ: https://t.me/monstrassistentbot?start=agency
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ë–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** (Cover.jpg)
- ‚úÖ –ü–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø–æ–¥–ø–∏—Å—å: "–ö–∞–∫–∞—è –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∞ —Å–µ–π—á–∞—Å —Å–∞–º–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è?"
- ‚úÖ –ö–Ω–æ–ø–∫–∏: [üìà –ü—Ä–∏–≤–ª–µ—á—å –∫–ª–∏–µ–Ω—Ç–æ–≤] [üí∞ –£–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–¥–∞–∂–∏] [üéØ –£–ª—É—á—à–∏—Ç—å —Ä–µ–∫–ª–∞–º—É]
- ‚ùå –ù–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∑–∞–≥–ª—É—à–∫–∏ [–§–æ—Ç–æ: ...]

---

#### 2. Monster Agency (Fallback Menu)
```
–û—Ç–∫—Ä–æ–π—Ç–µ: https://t.me/monstrassistentbot
–í—ã–±–µ—Ä–∏—Ç–µ: "üìà Digital-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢–æ –∂–µ —Å–∞–º–æ–µ ‚Äî —Ä–µ–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å—å –∏ –∫–Ω–æ–ø–∫–∏
- ‚ùå –ù–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∑–∞–≥–ª—É—à–∫–∏

---

#### 3. Monster CG
```
–û—Ç–∫—Ä–æ–π—Ç–µ: https://t.me/monstrassistentbot?start=cg
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (CG_Cover.jpg)
- ‚úÖ –ü–æ–¥–ø–∏—Å—å: "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é. –≠—Ç–æ Monster CG. –ö–∞–∫–æ–µ –±—É–¥—É—â–µ–µ –º—ã —Å–æ–∑–¥–∞–µ–º —Å–µ–≥–æ–¥–Ω—è?"
- ‚úÖ –ö–Ω–æ–ø–∫–∏: [ü§ñ AI-–≤–∏–¥–µ–æ] [‚ú® –°–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç—ã] [üßä –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞]

---

#### 4. Monster Express
```
–û—Ç–∫—Ä–æ–π—Ç–µ: https://t.me/monstrassistentbot?start=express
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (Express_Cover.jpg)
- ‚úÖ –ü–æ–¥–ø–∏—Å—å: "Monster Express. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –≤—á–µ—Ä–∞. –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ?"
- ‚úÖ –ö–Ω–æ–ø–∫–∏: [üíª –°–∞–π—Ç / –õ–µ–Ω–¥–∏–Ω–≥] [üé¨ –ë–∞–Ω–Ω–µ—Ä-–∞–Ω–∏–º–∞—Ü–∏—è] [‚ú® AI-–≤–∏–¥–µ–æ]

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### –ú–µ—Ç–æ–¥ bot.send_photo()

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```python
await bot.send_photo(
    chat_id=message.chat.id,      # ID —á–∞—Ç–∞
    photo=photo_url,               # URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∏–ª–∏ file_id)
    caption=caption,               # –ü–æ–¥–ø–∏—Å—å –ø–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
    reply_markup=keyboard,         # Inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏
)
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- ‚úÖ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∫–∞–∫ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ)
- ‚úÖ file_id (–¥–ª—è —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤ Telegram —Ñ–∞–π–ª–æ–≤)
- ‚úÖ InputFile (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è URL:**
- –ì–∏–±–∫–æ—Å—Ç—å ‚Äî –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–º–µ–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ù–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ Telegram —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- CDN (Cloudflare R2) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—É—é –∑–∞–≥—Ä—É–∑–∫—É

---

## üîß –§–∞–π–ª—ã –ò–∑–º–µ–Ω–µ–Ω–∏–π

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è | –°—Ç—Ä–æ–∫–∏ |
|------|-----------|--------|
| `locales/locales.json` | –ó–∞–º–µ–Ω–∏–ª–∏ `photo_id` ‚Üí `photo_url` –¥–ª—è 3 –ø—Ä–æ—Ñ–∏–ª–µ–π | 23, 57, 91 |
| `packages/core/handlers/start.py` | –î–æ–±–∞–≤–∏–ª–∏ –∏–º–ø–æ—Ä—Ç Bot | 4 |
| `packages/core/handlers/start.py` | –û–±–Ω–æ–≤–∏–ª–∏ `handle_deeplink_start` | 17 |
| `packages/core/handlers/start.py` | –û–±–Ω–æ–≤–∏–ª–∏ `start_funnel` | 78-120 |
| `packages/core/handlers/start.py` | –ó–∞–º–µ–Ω–∏–ª–∏ `message.answer()` ‚Üí `bot.send_photo()` | 109-114 |
| `packages/core/handlers/callbacks.py` | –î–æ–±–∞–≤–∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `bot` –≤ `handle_direction_choice` | 21, 43 |

---

## üöÄ –ó–∞–ø—É—Å–∫ –∏ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```
üöÄ Monster Triborg Bot –∑–∞–ø—É—â–µ–Ω!
üìã Admin Chat ID: 1866340108
ü§ñ Bot: @monstrassistentbot (ID: 7425373116)
‚úÖ Status: Running
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –¢–µ—Å—Ç 1: Agency (Deep Link)
https://t.me/monstrassistentbot?start=agency

# –¢–µ—Å—Ç 2: CG (Deep Link)
https://t.me/monstrassistentbot?start=cg

# –¢–µ—Å—Ç 3: Express (Deep Link)
https://t.me/monstrassistentbot?start=express

# –¢–µ—Å—Ç 4: Fallback Menu
https://t.me/monstrassistentbot
```

---

## üì∏ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:
–í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–∑–º–µ—â–µ–Ω—ã –Ω–∞ **Cloudflare R2 CDN**:
- **–ë–∞–∑–æ–≤—ã–π URL:** `https://pub-68f0f95cdc3344e2b4ff5ce24184f710.r2.dev/`

### –§–∞–π–ª—ã:
```
Cover.jpg          ‚Üí Monster Agency (Digital-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥)
CG_Cover.jpg       ‚Üí Monster CG (–ì—Ä–∞—Ñ–∏–∫–∞ –∏ AI)
Express_Cover.jpg  ‚Üí Monster Express (–≠–∫—Å–ø—Ä–µ—Å—Å-–∑–∞–∫–∞–∑—ã)
```

### –ó–∞–º–µ–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
–ß—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –Ω–∞ CDN —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º
2. –ò–õ–ò –æ–±–Ω–æ–≤–∏—Ç–µ URL –≤ `locales.json`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** (–∫–æ–Ω—Ñ–∏–≥ —á–∏—Ç–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)

---

## üé® –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- **–§–æ—Ä–º–∞—Ç:** JPG, PNG
- **–†–∞–∑–º–µ—Ä:** 1200x630px (Open Graph —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- **–í–µ—Å:** < 1 MB
- **Aspect Ratio:** 1.91:1

### –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
- ‚úÖ –õ–æ–≥–æ—Ç–∏–ø –±—Ä–µ–Ω–¥–∞
- ‚úÖ –ö–ª—é—á–µ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∞–π–¥–µ–Ω—Ç–∏–∫–∞ (—Ü–≤–µ—Ç–∞, —à—Ä–∏—Ñ—Ç—ã)
- ‚ùå –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- ‚ùå –†–∞–∑–º—ã—Ç—ã–µ/–Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ–≤–µ—Ä–Ω—ã–π URL –≤ `locales.json`
2. CDN –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
3. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (>20 MB - –ª–∏–º–∏—Ç Telegram)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø—É–±–ª–∏—á–Ω–æ
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—É—é –∑–∞–≥–ª—É—à–∫—É

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –°—Ç–∞—Ä—ã–π –∫–æ–¥ (–¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
2. –û–ø–µ—á–∞—Ç–∫–∞ –≤ –∫–ª—é—á–µ `photo_url` –≤ –∫–æ–Ω—Ñ–∏–≥–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `bot.send_photo()`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `step1_data.get("photo_url")` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–Ω–æ–ø–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**
1. `reply_markup` –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω –≤ `send_photo()`
2. –û—à–∏–±–∫–∞ –≤ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–µ—Ä–µ–¥–∞–Ω:
await bot.send_photo(
    chat_id=message.chat.id,
    photo=photo_url,
    caption=caption,
    reply_markup=keyboard,  # ‚Üê –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É
)
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README.md` - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `AMOCRM_PRODUCTION_READY.md` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AmoCRM
- `SMART_EDIT.md` - –£–º–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫
- `TESTING_CHECKLIST.md` - –ß–µ–∫–ª–∏—Å—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –ß–µ–∫–ª–∏—Å—Ç

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- [x] –ó–∞–º–µ–Ω–∏–ª–∏ `photo_id` ‚Üí `photo_url` –¥–ª—è agency
- [x] –ó–∞–º–µ–Ω–∏–ª–∏ `photo_id` ‚Üí `photo_url` –¥–ª—è cg
- [x] –ó–∞–º–µ–Ω–∏–ª–∏ `photo_id` ‚Üí `photo_url` –¥–ª—è express
- [x] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å URL –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ö–æ–¥:
- [x] –î–æ–±–∞–≤–∏–ª–∏ –∏–º–ø–æ—Ä—Ç `Bot` –≤ start.py
- [x] –û–±–Ω–æ–≤–∏–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—É `handle_deeplink_start`
- [x] –û–±–Ω–æ–≤–∏–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—É `start_funnel`
- [x] –ó–∞–º–µ–Ω–∏–ª–∏ `message.answer()` ‚Üí `bot.send_photo()`
- [x] –û–±–Ω–æ–≤–∏–ª–∏ `handle_direction_choice` –≤ callbacks.py
- [x] –û–±–Ω–æ–≤–∏–ª–∏ –≤—ã–∑–æ–≤ `start_funnel` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º bot

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- [x] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω Deep Link –¥–ª—è Agency
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω Deep Link –¥–ª—è CG
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω Deep Link –¥–ª—è Express
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ Fallback Menu
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–≥–ª—É—à–µ–∫

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ë—ã–ª–æ:
```
üñº [–§–æ—Ç–æ: agency_step1_photo]

–ö–∞–∫–∞—è –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∞ —Å–µ–π—á–∞—Å —Å–∞–º–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è?

[–ö–Ω–æ–ø–∫–∏]
```

### –°—Ç–∞–ª–æ:
```
[–†–µ–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ Cover.jpg]

–ö–∞–∫–∞—è –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∞ —Å–µ–π—á–∞—Å —Å–∞–º–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è?

[–ö–Ω–æ–ø–∫–∏]
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–ò–ó–£–ê–õ–¨–ù–ê–Ø –í–û–†–û–ù–ö–ê –ì–û–¢–û–í–ê**

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-24
**–í–µ—Ä—Å–∏—è –±–æ—Ç–∞:** 2.3 (Visual Upgrade)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready
