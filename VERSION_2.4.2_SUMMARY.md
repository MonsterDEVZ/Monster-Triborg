# üìã Version 2.4.2 - Release Summary

**–î–∞—Ç–∞:** 2025-10-25
**–í–µ—Ä—Å–∏—è:** 2.4.2 (Bugfix + Express Update)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ**

---

## üéØ –ß—Ç–æ –ù–æ–≤–æ–≥–æ

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #1: Inline-–∫–Ω–æ–ø–∫–∏ –ù–µ –†–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ inline-–∫–Ω–æ–ø–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å, –Ω–æ –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è. "–ß–∞—Å–∏–∫–∏" –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–ª–∏, –±–æ—Ç –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏–ª –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É.

**–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:** –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback –±—ã–ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ FSM states:
```python
@router.callback_query(FunnelStates.choosing_direction)  # ‚Üê –¢—Ä–µ–±—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ!
async def handle_direction_choice(...)
```

–ï—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∏–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–ª–æ, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ë–ï–ó —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é:

1. **Navigation Handler** (`packages/core/handlers/callbacks.py:20-48`)
   ```python
   @router.callback_query(F.data.startswith("select_"))
   async def handle_navigation_fallback(...)
   ```
   - –õ–æ–≤–∏—Ç: `select_agency`, `select_cg`, `select_express`
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –≤–æ—Ä–æ–Ω–∫—É
   - –£–±–∏—Ä–∞–µ—Ç "—á–∞—Å–∏–∫–∏" —á–µ—Ä–µ–∑ `await callback.answer()`

2. **Funnel Choice Handler** (`packages/core/handlers/callbacks.py:77-163`)
   ```python
   @router.callback_query(
       F.data.startswith("agency_") |
       F.data.startswith("cg_") |
       F.data.startswith("express_")
   )
   async def handle_funnel_choice_fallback(...)
   ```
   - –õ–æ–≤–∏—Ç –∫–Ω–æ–ø–∫–∏ –≤—Å–µ—Ö —Ç—Ä–µ—Ö –≤–æ—Ä–æ–Ω–æ–∫
   - –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç —á–µ—Ä–µ–∑ Reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
   - –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `FunnelStates.step2_waiting_contact`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ inline-–∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç FSM state
- ‚úÖ "–ß–∞—Å–∏–∫–∏" –ø—Ä–æ–ø–∞–¥–∞—é—Ç –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏—è: `üîò Fallback navigation: –≤—ã–±—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—å agency`

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `BUGFIX_CALLBACK_HANDLERS.md`

---

### ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ #2: –ù–æ–≤—ã–µ –£—Å–ª—É–≥–∏ Monster Express

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `locales/locales.json`:**

**–ë—ã–ª–æ (3 –∫–Ω–æ–ø–∫–∏):**
```json
{
  "text": "üíª –°–∞–π—Ç / –õ–µ–Ω–¥–∏–Ω–≥",
  "callback_data": "express_site"
},
{
  "text": "üé¨ –ë–∞–Ω–Ω–µ—Ä-–∞–Ω–∏–º–∞—Ü–∏—è",
  "callback_data": "express_banner"
},
{
  "text": "‚ú® AI-–≤–∏–¥–µ–æ",
  "callback_data": "express_ai"
}
```

**–°—Ç–∞–ª–æ (5 –∫–Ω–æ–ø–æ–∫):**
```json
{
  "text": "–ë–∞–Ω–Ω–µ—Ä-–∞–Ω–∏–º–∞—Ü–∏—è",
  "callback_data": "express_banner_anim"
},
{
  "text": "AI-–≤–∏–¥–µ–æ",
  "callback_data": "express_ai"
},
{
  "text": "–õ–æ–≥–æ / –ë—Ä–µ–Ω–¥–±—É–∫",
  "callback_data": "express_logo"
},
{
  "text": "–õ–µ–Ω–¥–∏–Ω–≥",
  "callback_data": "express_landing"
},
{
  "text": "–õ–µ–Ω–¥–∏–Ω–≥ –ü—Ä–æ",
  "callback_data": "express_landing_pro"
}
```

**–û–±–Ω–æ–≤–ª–µ–Ω—ã choices mapping:**
```json
"choices": {
  "express_banner_anim": "–ë–∞–Ω–Ω–µ—Ä-–∞–Ω–∏–º–∞—Ü–∏—è",
  "express_ai": "AI-–≤–∏–¥–µ–æ",
  "express_logo": "–õ–æ–≥–æ / –ë—Ä–µ–Ω–¥–±—É–∫",
  "express_landing": "–õ–µ–Ω–¥–∏–Ω–≥",
  "express_landing_pro": "–õ–µ–Ω–¥–∏–Ω–≥ –ü—Ä–æ"
}
```

**–§–æ—Ç–æ:** –£–∂–µ –±—ã–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ:
```
https://pub-68f0f95cdc3344e2b4ff5ce24184f710.r2.dev/Cover-MonsterExpress.jpg
```

---

## üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ –£—Å–ø–µ—Ö–∞

### –¢–µ—Å—Ç 1: Inline-–∫–Ω–æ–ø–∫–∏ Fallback Menu

**–®–∞–≥–∏:**
```
1. –û—Ç–∫—Ä—ã—Ç—å: https://t.me/monstrassistentbot?start=wrong_param
2. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è Fallback Menu
3. –ù–∞–∂–∞—Ç—å: "üìà Digital-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ "–ß–∞—Å–∏–∫–∏" –ø—Ä–æ–ø–∞–¥–∞—é—Ç –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ
- ‚úÖ –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ—Ä–æ–Ω–∫—É Agency —Å —Ñ–æ—Ç–æ
- ‚úÖ 3 –∫–Ω–æ–ø–∫–∏ —É—Å–ª—É–≥ Agency
- ‚úÖ –í –ª–æ–≥–∞—Ö: `üîò Fallback navigation: –≤—ã–±—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—å agency`

---

### –¢–µ—Å—Ç 2: Inline-–∫–Ω–æ–ø–∫–∏ Agency Funnel

**–®–∞–≥–∏:**
```
1. –û—Ç–∫—Ä—ã—Ç—å: https://t.me/monstrassistentbot?start=agency
2. –ù–∞–∂–∞—Ç—å: "üìà –ü—Ä–∏–≤–ª–µ—á—å –∫–ª–∏–µ–Ω—Ç–æ–≤"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ "–ß–∞—Å–∏–∫–∏" –ø—Ä–æ–ø–∞–¥–∞—é—Ç
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è: "‚úÖ –ü—Ä–∏–Ω—è—Ç–æ: –ü—Ä–∏–≤–ª–µ—á—å –∫–ª–∏–µ–Ω—Ç–æ–≤..."
- ‚úÖ Reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞: `[üë§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º]`
- ‚úÖ –í –ª–æ–≥–∞—Ö: `üîò Funnel choice (fallback): –ø—Ä–æ—Ñ–∏–ª—å=agency, –≤—ã–±–æ—Ä=–ü—Ä–∏–≤–ª–µ—á—å –∫–ª–∏–µ–Ω—Ç–æ–≤`

---

### –¢–µ—Å—Ç 3: –ù–æ–≤—ã–µ –ö–Ω–æ–ø–∫–∏ Express

**–®–∞–≥–∏:**
```
1. –û—Ç–∫—Ä—ã—Ç—å: https://t.me/monstrassistentbot?start=express
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 5 –∫–Ω–æ–ø–æ–∫
3. –ù–∞–∂–∞—Ç—å: "–õ–æ–≥–æ / –ë—Ä–µ–Ω–¥–±—É–∫"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ç–æ Monster Express
- ‚úÖ 5 –∫–Ω–æ–ø–æ–∫:
  - –ë–∞–Ω–Ω–µ—Ä-–∞–Ω–∏–º–∞—Ü–∏—è
  - AI-–≤–∏–¥–µ–æ
  - –õ–æ–≥–æ / –ë—Ä–µ–Ω–¥–±—É–∫
  - –õ–µ–Ω–¥–∏–Ω–≥
  - –õ–µ–Ω–¥–∏–Ω–≥ –ü—Ä–æ
- ‚úÖ "–ß–∞—Å–∏–∫–∏" –ø—Ä–æ–ø–∞–¥–∞—é—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è: "‚úÖ –ü—Ä–∏–Ω—è—Ç–æ: –õ–æ–≥–æ / –ë—Ä–µ–Ω–¥–±—É–∫..."
- ‚úÖ Reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–∞
- ‚úÖ –í –ª–æ–≥–∞—Ö: `üîò Funnel choice (fallback): –ø—Ä–æ—Ñ–∏–ª—å=express, –≤—ã–±–æ—Ä=–õ–æ–≥–æ / –ë—Ä–µ–Ω–¥–±—É–∫`

---

### –¢–µ—Å—Ç 4: –ü–æ–ª–Ω—ã–π –§–ª–æ—É Express

**–®–∞–≥–∏:**
```
1. –û—Ç–∫—Ä—ã—Ç—å: https://t.me/monstrassistentbot?start=express
2. –ù–∞–∂–∞—Ç—å: "–õ–µ–Ω–¥–∏–Ω–≥ –ü—Ä–æ"
3. –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º (–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞)
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å follow-up: "https://example.com"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –õ–∏–¥ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ AmoCRM (Monster Express –≤–æ—Ä–æ–Ω–∫–∞)
- ‚úÖ Webhook URL: `...6b5776d4...`
- ‚úÖ Payload —Å–æ–¥–µ—Ä–∂–∏—Ç:
  - `phone`: –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
  - `request_details`: "–õ–µ–Ω–¥–∏–Ω–≥ –ü—Ä–æ"
  - `username`: @username
- ‚úÖ Follow-up –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω-—á–∞—Ç
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—á–∏—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ follow-up

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –§–∞–π–ª—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|-----------|
| `packages/core/handlers/callbacks.py` | –î–æ–±–∞–≤–ª–µ–Ω—ã 2 —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 20-48, 77-163) |
| `locales/locales.json` | –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ Express (3‚Üí5) –∏ choices mapping |
| `BUGFIX_CALLBACK_HANDLERS.md` | –ù–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| `restart_bot.sh` | –°–∫—Ä–∏–ø—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ |
| `VERSION_2.4.2_SUMMARY.md` | –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç |

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| Python | 3.11+ | –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| aiogram | 3.13.1 | Telegram Bot framework |
| aiohttp | 3.9+ | Async HTTP client |
| AmoCRM | API v4 | CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (webhooks) |
| Cloudflare R2 | - | CDN –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| FSM | MemoryStorage | State management |

---

## üöÄ –î–µ–ø–ª–æ–π

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç**
```bash
./restart_bot.sh
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é**
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pkill -9 -f "apps/bot/main.py"

# 2. –û–∂–∏–¥–∞–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥
sleep 10

# 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
source venv/bin/activate
PYTHONPATH=/Users/new/Desktop/–ü—Ä–æ–µ–∫—Ç—ã/Monster/Monster-Triborg:$PYTHONPATH python3 apps/bot/main.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –£—Å–ø–µ—à–Ω–æ–≥–æ –ó–∞–ø—É—Å–∫–∞:

**–õ–æ–≥–∏:**
```
2025-10-25 19:33:44 - __main__ - INFO - üöÄ Monster Triborg Bot –∑–∞–ø—É—â–µ–Ω!
2025-10-25 19:33:44 - __main__ - INFO - üìã Admin Chat ID: 1866340108
2025-10-25 19:33:45 - aiogram.dispatcher - INFO - Run polling for bot @monstrassistentbot
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ –∑–∞–ø—É—â–µ–Ω
- –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `TelegramConflictError`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `restart_bot.sh`

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏

### –ö–æ–¥:

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|------------|------------|
| –ù–æ–≤—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ | 2 (universal fallbacks) |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ (callbacks.py) | +86 —Å—Ç—Ä–æ–∫ |
| –ö–Ω–æ–ø–æ–∫ Express | 3 ‚Üí 5 (+2) |
| Callback_data –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ | 3 (agency_*, cg_*, express_*) |

### –í–æ—Ä–æ–Ω–∫–∏:

| –ü—Ä–æ—Ñ–∏–ª—å | –ö–Ω–æ–ø–æ–∫ Step1 | Webhook URL |
|---------|--------------|-------------|
| Agency | 3 | `...b22d2e0c...` |
| CG | 3 | `...dd3492da...` |
| Express | 5 | `...6b5776d4...` |

---

## üîÑ Changelog

### v2.4.2 (2025-10-25) - Bugfix + Express Update

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- üêõ Inline-–∫–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ - –¥–æ–±–∞–≤–ª–µ–Ω—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±–µ–∑ FSM state
- üêõ "–ß–∞—Å–∏–∫–∏" –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–ª–∏ - –¥–æ–±–∞–≤–ª–µ–Ω `await callback.answer()`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚ú® –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è navigation (`select_*`)
- ‚ú® –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è funnel choices (`agency_*|cg_*|express_*`)
- ‚ú® 2 –Ω–æ–≤—ã—Ö —É—Å–ª—É–≥–∏ Express: "–õ–æ–≥–æ / –ë—Ä–µ–Ω–¥–±—É–∫", "–õ–µ–Ω–¥–∏–Ω–≥", "–õ–µ–Ω–¥–∏–Ω–≥ –ü—Ä–æ"
- üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `BUGFIX_CALLBACK_HANDLERS.md`
- üîß –°–∫—Ä–∏–ø—Ç `restart_bot.sh` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
- üîÑ Express –∫–Ω–æ–ø–∫–∏: 3 ‚Üí 5
- üîÑ –£–¥–∞–ª–µ–Ω—ã —ç–º–æ–¥–∑–∏ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤ –∫–Ω–æ–ø–æ–∫ Express
- üîÑ Callback_data: `express_site` ‚Üí `express_landing`/`express_landing_pro`

---

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **`README.md`** - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
2. **`BUGFIX_CALLBACK_HANDLERS.md`** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ inline-–∫–Ω–æ–ø–æ–∫ (v2.4.2) ‚ú® –ù–û–í–û–ï
3. **`CONTACT_COLLECTION_FEATURE.md`** - –§—É–Ω–∫—Ü–∏—è —Å–±–æ—Ä–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (v2.4.0)
4. **`BUGFIX_FOLLOWUP_STATE.md`** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ "–∑–∞–ª–∏–ø–∞–Ω–∏—è" (v2.4.1)
5. **`DEEP_LINK_URLS.md`** - Deep Link —Å—Å—ã–ª–∫–∏ –¥–ª—è —Å–∞–π—Ç–æ–≤
6. **`VERSION_2.4.1_SUMMARY.md`** - –û–±–∑–æ—Ä –≤–µ—Ä—Å–∏–∏ 2.4.1
7. **`AMOCRM_PRODUCTION_READY.md`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AmoCRM

---

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ü—Ä–æ–¥–∞–∫—à–µ–Ω—É

### –ß–µ–∫–ª–∏—Å—Ç:

- [x] –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] Inline-–∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] Express –æ–±–Ω–æ–≤–ª–µ–Ω (5 –∫–Ω–æ–ø–æ–∫)
- [x] –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- [ ] **–¢–†–ï–ë–£–ï–¢–°–Ø:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ 3 –≤–æ—Ä–æ–Ω–∫–∏ –≤—Ä—É—á–Ω—É—é
- [ ] **–¢–†–ï–ë–£–ï–¢–°–Ø:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å AmoCRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –¥–ª—è Express
- [ ] **–¢–†–ï–ë–£–ï–¢–°–Ø:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ Express

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **READY FOR TESTING**

---

## üß™ –ü–ª–∞–Ω –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¢–µ—Å—Ç—ã

1. **Fallback Menu Navigation**
   - URL: `https://t.me/monstrassistentbot?start=wrongparam`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

2. **Express - –ù–æ–≤—ã–µ –ö–Ω–æ–ø–∫–∏**
   - URL: `https://t.me/monstrassistentbot?start=express`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ 5 –∫–Ω–æ–ø–æ–∫

3. **Express - –ü–æ–ª–Ω—ã–π –§–ª–æ—É**
   - –û—Ç –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ª–∏–¥–∞ –≤ AmoCRM

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ –¢–µ—Å—Ç—ã

4. **Agency - –ü–æ–ª–Ω—ã–π –§–ª–æ—É**
   - URL: `https://t.me/monstrassistentbot?start=agency`
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–ª–∏ —Å—Ç–∞—Ä—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

5. **CG - –ü–æ–ª–Ω—ã–π –§–ª–æ—É**
   - URL: `https://t.me/monstrassistentbot?start=cg`
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–ª–∏ —Å—Ç–∞—Ä—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–ë–æ—Ç:** @monstrassistentbot
**Admin Chat ID:** 1866340108
**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `/Users/new/Desktop/–ü—Ä–æ–µ–∫—Ç—ã/Monster/Monster-Triborg/`

---

## üéâ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –≤—Ä—É—á–Ω—É—é (–≤—Å–µ 3 –≤–æ—Ä–æ–Ω–∫–∏)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å AmoCRM - –ø—Ä–∏—Ö–æ–¥—è—Ç –ª–∏ –ª–∏–¥—ã
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ Express
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å Deep Link —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–π—Ç–µ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

**–í–µ—Ä—Å–∏—è:** 2.4.2
**–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** 2025-10-25
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é üöÄ
